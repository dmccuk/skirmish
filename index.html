<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Army Skirmish â€” Tilemap RTS</title>
  <link rel="stylesheet" href="css/style.css">

</head>
<body>
  <!-- TOP TOOLBAR -->
  <div id="ui">
    <div id="btns">
      <button id="buildRifleman">Build Rifleman (50)</button>
      <button id="buildGrenadier">Build Grenadier (100)</button>
      <button id="selectAll">Select all</button>
      <button id="restart">Restart</button>
      <button id="terrainBtn">Use image terrain</button>
      <input id="terrainFile" type="file" accept="image/*" />
      <button id="helpBtn">?</button>
    </div>
    <div class="spacer"></div>
    <div id="audioControls">
      <button id="muteBtn">ðŸ”Š</button>
      <input id="volumeSlider" type="range" min="0" max="1" step="0.05" value="0.25" />
    </div>
    <div class="pill"><b>Army Skirmish</b> â€” click ground to move (green), enemy to attack (red)</div>
    <div class="pill">Large map â€¢ Tile terrain â€¢ Fog of War</div>
  </div>

  <!-- Selection HUD -->
  <div id="selHUD">
    <h4><span>Selected</span><span id="selCount">0</span></h4>
    <div class="grid" id="selGrid"></div>
    <div id="orderFlash">Order: Move</div>
  </div>

  <!-- Minimap -->
  <div id="minimapWrap">
    <div id="miniLabel">Minimap (click to pan)</div>
    <canvas id="minimap" width="200" height="125"></canvas>
  </div>

  <!-- Help Modal -->
  <div id="helpModal">
    <div id="helpCard">
      <h2>How to Play</h2>
      <div class="grid">
        <div>
          <h3>Basic</h3>
          <ul>
            <li>Drag on the map to <b>box select</b> units.</li>
            <li>Click ground to <b>move</b> (green target).</li>
            <li>Click enemy to <b>attack</b> (red target).</li>
            <li>Use the <b>minimap</b> (top-right) to jump view.</li>
          </ul>
        </div>
        <div>
          <h3>Camera</h3>
          <ul>
            <li><kbd>WASD</kbd> / <kbd>Arrow Keys</kbd> to pan (hold <kbd>Shift</kbd> for faster).</li>
            <li><kbd>Space</kbd> + <b>Left Drag</b> or <b>Middle-Mouse Drag</b> to pan.</li>
            <li>Move mouse near canvas edge to <b>edge-scroll</b>.</li>
            <li><b>Mouse wheel</b> pans vertically.</li>
          </ul>
        </div>
        <div>
          <h3>Units</h3>
          <ul>
            <li><b>Rifleman</b>: mid-range direct fire; line-of-sight blocked by trees/rocks.</li>
            <li><b>Grenadier</b>: long-range lob (arcs over blockers), splash damage.</li>
            <li>Nearby allies <b>assist automatically</b> when a unit is hit.</li>
          </ul>
        </div>
        <div>
          <h3>Terrain</h3>
          <ul>
            <li><b>Grass</b>: normal speed.</li>
            <li><b>Forest</b>: slower movement; blocks rifle LoS.</li>
            <li><b>Water</b>: impassable except at bridges.</li>
            <li><b>Rock</b>: impassable; blocks rifle LoS.</li>
          </ul>
          <div class="legend">
            <span class="chip"><span class="box" style="background:#3a5f2f"></span>Grass</span>
            <span class="chip"><span class="box" style="background:#2c4a2e"></span>Forest</span>
            <span class="chip"><span class="box" style="background:#1d4d7a"></span>Water</span>
            <span class="chip"><span class="box" style="background:#555555"></span>Rock</span>
          </div>
        </div>
      </div>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
        <button id="closeHelp">Close</button>
      </div>
    </div>
  </div>

  <div id="wrap"><canvas id="c" width="960" height="600"></canvas></div>

  <div id="overlay">
    <div id="panel">
      <h2 id="result">You win!</h2>
      <p id="stats"></p>
      <button onclick="location.reload()">Play again</button>
    </div>
  </div>

<script src="js/main.js"></script>

</body>
</html>
